<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>game</title>
	<style>
	canvas {
	    border:1px solid #d3d3d3;
		background-color: #f1f1f1;
		}
	</style>
</head>
<body onload="startGame()">
	<script>
	var steps=0;
	var myPlayer;
	var compartments=[];
	var ball;
	var timer;
	var sec=0;
	var stepCounter;
	var list;
	var items=[];
	
	function startGame() {
		 myGameArea.start();
		//var myVar=setInterval(myGameArea.myTimer,1000);
		myPlayer = new component(50,700,"img/person.png",30,30,"img");
		ball=new component(60,160,"img/ball.png",30,30,"img");
		timer=new component(800,500,"black","20px","Tw Cen MT", "text");
		stepCounter=new component( 800,800,"black","20px","Tw Cen MT","text");
		list=new component(800,1000,"black","20px","Tw Cen MT","text");
	}
	
	var myGameArea = {
		canvas : document.createElement("canvas"),
		start : function() {
			this.canvas.width = window.innerWidth;
			this.canvas.height = window.innerHeight;
			this.c = this.canvas.getContext("2d");	//context
			document.body.insertBefore(this.canvas, document.body.childNodes[0]);
			this.interval = setInterval(updateGameArea, 1000);
			window.addEventListener('mousedown', function (e) {
				myGameArea.x = e.pageX;
				myGameArea.y = e.pageY;
			})
			window.addEventListener('mouseup', function (e) {
				myGameArea.x = false;
				myGameArea.y = false;
			})
			window.addEventListener('touchstart', function (e) {
				myGameArea.x = e.pageX;
			myGameArea.y = e.pageY;
			})
			window.addEventListener('touchend', function (e) {
				myGameArea.x = false;
				myGameArea.y = false;
			})
		}, 
		myTimer: function (){
			sec+=1;
		},
		clear : function() {
			this.c.clearRect(0, 0, this.canvas.width, this.canvas.height);
		},
		stop : function() {
			clearInterval(this.interval);
		}
	
	}

	function component(x,y,color,width, height,type){
		this.type=type;
		this.width = width;
		this.height = height;
		this.color=color;
		this.x = x;
		this.y = y;  
		this.speedX = 0;
		this.speedY = 0;
		this.update = function() {
			var ctx = myGameArea.c;
			if (type == "text") {
				ctx.fillStyle = color;
				ctx.fillText(this.text, this.x, this.y);
			} else if (type == "img") {
				this.img = new Image();
				this.img.src =color;
				ctx.drawImage(this.img, this.x, this.y,this.width, this.height);
			}
			else {
				ctx.font = this.width + " " + this.height;
				ctx.fillStyle = this.color;
				ctx.fillRect(this.x, this.y, this.width, this.height);
			}
			
		}
		this.clicked = function() {
			var myleft = this.x;
			var myright = this.x + (this.width);
			var mytop = this.y;
			var mybottom = this.y + (this.height);
			var clicked = true;
			if ((mybottom < myGameArea.y) || (mytop > myGameArea.y)|| (myright < myGameArea.x) || (myleft > myGameArea.x)) {
				clicked = false;
			}
			return clicked;
		}
		this.crashWith = function(otherobj) {
			var myleft = this.x;
			var myright = this.x + (this.width);
			var mytop = this.y;
			var mybottom = this.y + (this.height);
			var otherleft = otherobj.x;
			var otherright = otherobj.x + (otherobj.width);
			var othertop = otherobj.y;
			var otherbottom = otherobj.y + (otherobj.height);
			var crash = true;
			if ((mybottom < othertop) || (mytop > otherbottom) || (myright < otherleft) || (myleft > otherright)) {
				crash = false;
			}
			return crash;
		}
		this.newPos = function() {
			this.x += this.speedX;
			this.y += this.speedY;        
		}     
	}
	
	function updateGameArea() {
		var x,y;
		//myGameArea.stop(); ALSO, if game over stop myTimer
		myGameArea.clear();
		//timer.text="Time Lapse "+sec;
		//list.text="Pick up list";//loop in items[]
		//stepCounter.text="Total Steps "+ steps;
		for(x=50; x<=1000; x+=50){
			for(y=150; y<=700; y+=50){
				if(x%200!=0 && y!=300 && y!=500 && y!=700){
					compartments.push(new component(x,y, "black",48,48));
					}
			}
		}
		
		
		if (myGameArea.x && myGameArea.y) {
			for (i = 0; i < compartments.length; i += 1) {
				if (compartments[i].clicked()){
					compartments[i].color="gray";
				}
			}
		}
		for (i = 0; i < compartments.length; i += 1) {
				
				compartments[i].update();
			}
		myPlayer.newPos();
		myPlayer.update();
	}
	
	 window.addEventListener("keydown", function (event){
		var key= event.code;	//variable for holding the key pressed
	
		if(myPlayer.y > 120 && (key == "ArrowUp") )   {
			steps+=1;
			myPlayer.y-=50;
		}
		else if(myPlayer.y < myGameArea.canvas.height-200 && (key == "ArrowDown" )) {
			steps+=1;
			myPlayer.y+=50;
		}
		
		else if(myPlayer.x >10 && (key == "ArrowLeft" )){
			steps+=1;
			myPlayer.x-=50;
		}	
		else if(myPlayer.x < myGameArea.canvas.width-300 && (key == "ArrowRight")){
			steps+=1;
			myPlayer.x+=50;
		}	
	}, true);
	
	
		//items in shelve 1
/*  putImage();
putImage(110,160,"img/cycle.png");
putImage(160,160,"img/tv.png");

putImage(60,210,"img/cycle.png");
putImage(110,210,"img/tv.png");
putImage(160,210,"img/tv.png");

putImage(60,260,"img/tv.png");
putImage(110,260,"img/cycle.png");
putImage(160,260,"img/tv.png");

//items in shelve 2
putImage(60,360,"img/briefcase.png");
putImage(110,360,"img/briefcase.png");
putImage(160,360,"img/briefcase.png");

putImage(60,410,"img/briefcase.png");
putImage(110,410,"img/cycle.png");
putImage(160,410,"img/briefcase.png");

putImage(60,460,"img/briefcase.png");
putImage(110,460,"img/briefcase.png");
putImage(160,460,"img/cycle.png");

//items in shelve 3
putImage(60,560,"img/headphone.png");
putImage(110,560,"img/camera.png");
putImage(160,560,"img/cycle.png");

putImage(60,610,"img/cycle.png");
putImage(110,610,"img/tv.png");
putImage(160,610,"img/tv.png");

putImage(60,660,"img/cycle.png");
putImage(110,660,"img/cycle.png");
putImage(160,660,"img/briefcase.png");

//items in shelve 4
putImage(260,160,"img/tv.png");
putImage(310,160,"img/cycle.png");
putImage(360,160,"img/camera.png");

putImage(260,210,"img/cycle.png");
putImage(310,210,"img/mic.png");
putImage(360,210,"img/mic.png");

putImage(260,260,"img/tv.png");
putImage(310,260,"img/cycle.png");
putImage(360,260,"img/camera.png");

//items in shelve 5
putImage(260,360,"img/mic.png");
putImage(310,360,"img/briefcase.png");
putImage(360,360,"img/mic.png");

putImage(260,410,"img/briefcase.png");
putImage(310,410,"img/cycle.png");
putImage(360,410,"img/briefcase.png");

putImage(260,460,"img/briefcase.png");
putImage(310,460,"img/briefcase.png");
putImage(360,460,"img/cycle.png");

//items in shelve 6
putImage(260,560,"img/cycle.png");
putImage(310,560,"img/cycle.png");
putImage(360,560,"img/cycle.png");

putImage(260,610,"img/cycle.png");
putImage(310,610,"img/tv.png");
putImage(360,610,"img/tv.png");

putImage(260,660,"img/cycle.png");
putImage(310,660,"img/cycle.png");
putImage(360,660,"img/briefcase.png");

//items in shelve 7
putImage(460,160,"img/tv.png");
putImage(510,160,"img/cycle.png");
putImage(560,160,"img/tv.png");

putImage(460,210,"img/cycle.png");
putImage(510,210,"img/tv.png");
putImage(560,210,"img/tv.png");

putImage(460,260,"img/tv.png");
putImage(510,260,"img/cycle.png");
putImage(560,260,"img/tv.png");

//items in shelve 8
putImage(460,360,"img/briefcase.png");
putImage(510,360,"img/briefcase.png");
putImage(560,360,"img/briefcase.png");

putImage(460,410,"img/briefcase.png");
putImage(510,410,"img/cycle.png");
putImage(560,410,"img/briefcase.png");

putImage(460,460,"img/pencil.png");
putImage(510,460,"img/pencil.png");
putImage(560,460,"img/cycle.png");

//items in shelve 9
putImage(460,560,"img/cycle.png");
putImage(510,560,"img/cycle.png");
putImage(560,560,"img/cycle.png");

putImage(460,610,"img/cycle.png");
putImage(510,610,"img/tv.png");
putImage(560,610,"img/tv.png");

putImage(460,660,"img/cycle.png");
putImage(510,660,"img/cycle.png");
putImage(560,660,"img/briefcase.png");

//items in shelve 10
putImage(660,160,"img/tv.png");
putImage(710,160,"img/cycle.png");
putImage(760,160,"img/tv.png");

putImage(660,210,"img/cycle.png");
putImage(710,210,"img/tv.png");
putImage(760,210,"img/tv.png");

putImage(660,260,"img/tv.png");
putImage(710,260,"img/cycle.png");
putImage(760,260,"img/tv.png");

//items in shelve 11
putImage(660,360,"img/pencil.png");
putImage(710,360,"img/briefcase.png");
putImage(760,360,"img/briefcase.png");

putImage(660,410,"img/briefcase.png");
putImage(710,410,"img/cycle.png");
putImage(760,410,"img/briefcase.png");

putImage(660,460,"img/camera.png");
putImage(710,460,"img/briefcase.png");
putImage(760,460,"img/cycle.png");

//items in shelve 12
putImage(660,560,"img/pencil.png");
putImage(710,560,"img/cycle.png");
putImage(760,560,"img/cycle.png");

putImage(660,610,"img/cycle.png");
putImage(710,610,"img/pencil.png");
putImage(760,610,"img/tv.png");

putImage(660,660,"img/cycle.png");
putImage(710,660,"img/cycle.png");
putImage(760,660,"img/briefcase.png");

//items in shelve 13
putImage(860,160,"img/tv.png");
putImage(910,160,"img/cycle.png");
putImage(960,160,"img/tv.png");

putImage(860,210,"img/cycle.png");
putImage(910,210,"img/pencil.png");
putImage(960,210,"img/tv.png");

putImage(860,260,"img/tv.png");
putImage(910,260,"img/cycle.png");
putImage(960,260,"img/tv.png");

//items in shelve 14
putImage(860,360,"img/briefcase.png");
putImage(910,360,"img/ball.png");
putImage(960,360,"img/briefcase.png");

putImage(860,410,"img/ball.png");
putImage(910,410,"img/ball.png");
putImage(960,410,"img/briefcase.png");

putImage(860,460,"img/briefcase.png");
putImage(910,460,"img/briefcase.png");
putImage(960,460,"img/ball.png");

//items in shelve 15
putImage(860,560,"img/ball.png");
putImage(910,560,"img/ball.png");
putImage(960,560,"img/headphone.png");

putImage(860,610,"img/headphone.png");
putImage(910,610,"img/tv.png");
putImage(960,610,"img/tv.png");

putImage(860,660,"img/headphone.png");
putImage(910,660,"img/headphone.png");
putImage(960,660,"img/headphone.png"); 
*/
	</script>
	
</body>
</html>